<div class="card m-3">
  <h2 class="card-hearder">Create A New Employee</h2>
  <div class="card-body">
    <form [formGroup] = "registerForm" #f="ngForm" (ngSubmit)="createEmployeeOnSubmit()">
      <div class="row">
        <div class="form-group col-4">
          <label for="firstName" class="form-label">First Name</label>
          <input
                 name="first"
                 type="text"
                 class="form-control"
                 id="first-name"
                 [(ngModel)]="employee.firstName"
                 required
                 #firstName="ngModel"
                 maxlength="80"
                 formControlName="firstName">
          <div class="badge bg-danger" *ngIf="!firstName.valid && firstName.dirty || firstName.touched">
            <div *ngIf="firstName.errors?.['required']">
              First name is required.
            </div>
            <div *ngIf="firstName.errors?.['maxlength']">
              Name must be not exceed 80 characters long.
            </div>
          </div>
        </div>
        <div class="form-group col-4">
          <label for="middleName" class="form-label">Middle Name</label>
          <input name="middle" type="text" class="form-control" id="middle-name"
                 [(ngModel)]="employee.middleName" maxlength="80" formControlName="middleName">
        </div>
        <div class="form-group col-4">
          <label for="lastName" class="form-label">Last Name</label>
          <input name="last" type="text" class="form-control" id="last-name"
                 [(ngModel)]="employee.lastName" required #lastName="ngModel" formControlName="lastName">
          <span class="badge bg-danger" *ngIf="!lastName.valid && lastName.touched">
            Last Name is
            required!
          </span>
        </div>
      </div>

      <div class="row">
        <div class="form-group col-8">
          <label for="email" class="form-label">Email</label>
          <input name="userEmail" class="form-control" id="user-email" required email
                 [(ngModel)]="employee.email" #email="ngModel" (blur)="checkEmail(email)" formControlName="email">
          <span class=" badge bg-danger" *ngIf="!email.valid && email.touched">
            Please enter a valid email!
          </span>
        </div>

        <div class="form-group col">
          <label for="samAccount" class="form-label">Sam Account</label>
          <input name="sam" type="text" class="form-control" id="sam-account"
                 [(ngModel)]="employee.samAccountName" required #samAccount="ngModel" formControlName="samAccount">
          <span class="badge bg-danger" *ngIf="!samAccount.valid && samAccount.touched">
            Sam Account is
            required!
          </span>
        </div>
        <div class="row">
          <div class="form-group col-4">
            <label for="dob" class="form-label">Date of Birth</label>
            <input name="dob" type="date" class="form-control" id="dob" [(ngModel)]="employee.dob" required
                   #dob="ngModel" formControlName="dob">
            <span class="badge bg-danger" *ngIf="!dob.valid && dob.touched">
              Date of Birth is required!
            </span>
          </div>

          <div class="form-group col">
            <label for="contractorType" class="form-label">Contractor Type</label>
            <input name="contractor" type="text" class="form-control" id="contractor-type-id"
                   [(ngModel)]="employee.contractorTypeId" formControlName="contractorType">
          </div>
          <div class="form-group col-4">
            <label for="code" class="form-label">Code</label>
            <input name="Code" type="text" class="form-control" id="code" [(ngModel)]="employee.code" formControlName="code">
          </div>
        </div>

        <div class="row">
          <div class="form-group col-4">
            <label for="contractor" class="form-label">Is Contractor?</label>
            <select name="contractor" [(ngModel)]="employee.isContractor" class="form-select"
                    aria-label="Default select example" id="is-contractor" >
              <option [ngValue]="false">No</option>
              <option [ngValue]="true">Yes</option>
            </select>
          </div>
          <div class="form-group col">
            <label for="showroom" class="form-label">Show Room</label>
            <input name="showroom" type="text" class="form-control" id="showroom"
                   [(ngModel)]="employee.defaultShowroomFk">
          </div>
          <div class="form-group col-4">
            <label for="status" class="form-label">Status</label>
            <input name="status" type="text" class="form-control" id="status" [(ngModel)]="employee.status">
          </div>
        </div>
        <div class="row">
          <div class="form-group col-4">
            <label for="companyId" class="form-label">Company Id</label>
            <input name="companyId" type="number" class="form-control" id="company-id"
                   [(ngModel)]="employee.companyId">
          </div>

          <div class="form-group col-4">
            <label for="maxLeadCount" class="form-label">Max Lead Count</label>
            <input name="maxLeadCount" type="text" class="form-control" id="max-lead-count"
                   [(ngModel)]="employee.maxLeadCount">
          </div>
          <div class="form-group col-4">
            <label for="monthlyBudget" class="form-label">Monthly Budget</label>
            <input name="budget" type="number" class="form-control" id="monthly-budget"
                   [(ngModel)]="employee.monthlyBudget">
          </div>
        </div>

        <div class="button-container">
          <button type="submit" class="btn btn-primary" [disabled]="!f.valid">Save Changes</button>
          <button type="button" class="btn btn-danger" (click)="onCancel()">Cancel</button>
          <button class="btn btn-primary" type="button" (click)="f.resetForm()">Clear</button>
        </div>
        <div class=" mb-3" *ngIf="statusDesc.status == 400">
          <label for="state" class="form-label"></label>
          <div class="alert alert-danger form-label" role="alert">
            Error! {{statusDesc.description}}
          </div>
        </div>
        <div class=" mb-3" *ngIf="statusDesc.status == 200">
          <label for="state" class="form-label"></label>
          <div class="alert alert-success" role="alert">
            {{statusDesc.description}}
          </div>
        </div>

      </div>
    </form>
  </div>
</div>
